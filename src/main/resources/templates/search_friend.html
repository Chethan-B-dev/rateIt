<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>rateIT</title>
  <!-- MDB icon -->
  <link rel="icon" th:href="@{img/logo.ico}" type="image/x-icon">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css">
  <!-- Bootstrap core CSS -->
  <link th:href="@{/css/bootstrap.min.css}" type="text/css" rel="stylesheet">
  <!-- Material Design Bootstrap -->
  <link th:href="@{/css/mdb.min.css}" type="text/css" rel="stylesheet">
  <!-- Your custom styles (optional) -->
  <link th:href="@{/css/style.css}" type="text/css" rel="stylesheet">
</head>
<body class="hidden-sn elegant-color">

<!-- header -->
<header th:replace="fragments/header :: header"></header>


<main class="pt-4">
    <section class="search-section">

      <div class="jumbotron jumbotron-fluid main-bg">
        <div class="container">
          <h2 class="display-4 text-white">Welcome <span th:text="${username}"></span></h2>
          <p class="lead text-white font-weight-bolder">
            Search for People and connect with them.
          </p>
          <form action="/searchfriend" method="get">
          <div class="wrap">
            <div class="search">
               <input type="text" name="query" class="searchTerm" placeholder="">
               <button type="submit" class="searchButton" onclick="window.location='search.html';">
                 <i class="fa fa-search"></i>
              </button>
            </div>
            </div>
          </form>
        </div>
      </div>
    </section>


    <section class="search-result-section">
      
      <h3 class="pt-2 pl-4 font-weight-bold text-white pb-2 my-3">
        <span th:text="${username} + '\'s'">username's</span> <span class="text-danger">Friends</span>
      </h3>


      <!-- if no friends -->
      <div class="no-friends flex-center my-3" th:if="${noFriends}">
          <h4 class="text-white">You do not have any friends, please use the search bar above to connect with people</h4>
      </div>
      <!-- if no friends -->
    

      <div class="result-section container-fluid" th:unless="${noFriends}">
        <!-- News jumbotron -->
        <div class="text-center hoverable bg-dark text-white p-2 mb-3">
          <!-- Grid row -->
          <div class="row my-3" th:each="friend : ${friends}">
            <!-- Grid column -->
            <div class="col-md-3">
              <!-- Featured image -->
              <div class="view overlay zoom flex-center flex-column">
                  <h4 th:text="${friend.username}">friend name</h4>
                  <h6 class="text-muted" th:text="${friend.email}">email</h6>
              </div>
            </div>
            <!-- Grid column -->

            <!-- Grid column -->
            <div class="col-md-9 text-md-left mt-3">
             
              <div>
                <a th:href="'/watchlist/' + ${friend.id}" class="btn btn-md btn-outline-danger mr-2">Watchlist</a>
                <a th:href="'/wishlist/' + ${friend.id}" class="btn btn-md btn-outline-danger mr-2">WishList</a>
                <a th:href="'/posts/' + ${friend.id}" class="btn btn-md btn-outline-danger mr-2">Posts</a>
                <a th:href="'/unfriend/' + ${friend.id}" class="btn btn-md btn-outline-danger mr-2">Unfriend</a>
              </div>

            </div>
            <!-- Grid column -->
          </div>
          <!-- Grid row -->
        </div>
        <!-- News jumbotron -->


      </div>


      
    </section>



  </main>


<!-- Footer -->
<footer th:replace="fragments/footer :: footer"></footer>
<!-- Footer -->


<!-- jQuery -->
<script type="text/javascript" th:src="@{/js/jquery.min.js}"></script>
<!-- Bootstrap tooltips -->
<script type="text/javascript" th:src="@{/js/popper.min.js}"></script>
<!-- Bootstrap core JavaScript -->
<script type="text/javascript" th:src="@{/js/bootstrap.min.js}"></script>
<!-- MDB core JavaScript -->
<script type="text/javascript" th:src="@{/js/mdb.min.js}"></script>

<script type="text/javascript" th:src="@{/js/script.js}"></script>

<!-- Your custom scripts (optional) -->
<script type="text/javascript">
  $(document).ready(function () {

    // SideNav Button Initialization
    $(".button-collapse").sideNav();
    // SideNav Scrollbar Initialization
    var sideNavScrollbar = document.querySelector('.custom-scrollbar');
    var ps = new PerfectScrollbar(sideNavScrollbar);
  })
</script>

</body>
</html>
